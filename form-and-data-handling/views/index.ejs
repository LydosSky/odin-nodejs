<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title><%= title %></title>
        <link href="styles.css" rel="stylesheet"/>
    </head>
    <body>
        <h1><%= title %></h1>
        <form  action="/search" method="GET">
            <input name="search" type="text" placeholder="Search User" />
            <button type="submit">search</button>
        </form>
        <%- include('partials/search.ejs', { searchUsers: locals.searchUsers }) %>
        <ul>
            <% if (locals.users) { %>
                <% users.forEach(user => {%>
                    <li>
                        ID: <%= user.id %>,
                        Name: <%= user.firstName %> <%= user.lastName %>
                        Email: <%= user.email %>
                        Age: <%= user.age %>
                        Bio: <%= user.bio %>
                    </li>
                    <a href="/<%= user.id  %>/update">Update</a>
                    <form action="/<%= user.id %>/delete"
                          method="POST"
                          style="display:inline"
                    >
                        <button type="submit"
                                onclick="return confirm('Are you sure you want to delete this user?')"
                        >Delete</button>
                    </form>
                <% }); %>
            <% } %>
        </ul>
        <a href="/create">Create a user</a>
    </body>
</html>
